

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Simple TR64 UPnP &mdash; Simple TR64 UPnP 1.0.3 documentation</title>
    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="top" title="Simple TR64 UPnP 1.0.3 documentation" href="#" />
    <link rel="next" title="Installation" href="install.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Simple TR64 UPnP 1.0.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Simple TR64 UPnP</a><ul>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="install.html"
                        title="next chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="simple-tr64-upnp">
<h1>Simple TR64 UPnP<a class="headerlink" href="#simple-tr64-upnp" title="Permalink to this headline">¶</a></h1>
<p>Release v1.0.3. (<a class="reference internal" href="install.html#install"><span>Installation</span></a>)</p>
<hr class="docutils" />
<p>This Python library supports the discovery of UPnP devices in the local network and let you execute actions on them if
the device supports any. Also it contains a convenient way to execute TR64 protocol actions on routers or other network
devices which supports TR64.</p>
<p><a class="reference external" href="https://www.broadband-forum.org/technical/download/TR-064.pdf">TR 64</a> is a protocol designed to communicate with
devices which provides Internet connectivity like DSL or cable routers, also several Wifi routers do support it. The
protocol is based on the UPnP standard, it just adds several service types and actions how to configure and monitor
a device. TR64 is based on the UPnP standard like and very generic.</p>
<p>What I do with this library is to check regularly if certain Wifi devices are online as my Home-automation is based
on profiles if someone is at home or not.</p>
<p>Discover and execute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">simpletr64</span><span class="o">.</span><span class="n">discover</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">LOC: http://192.168.178.1:49000/tr64desc.xml SRV: urn:dslforum-org:device:InternetGatewayDevice:1</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">simpletr64</span><span class="o">.</span><span class="n">DeviceTR64</span><span class="p">(</span><span class="n">hostname</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">178.1</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">49000</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;/upnp/control/hosts&quot;</span><span class="p">,</span> <span class="s">&quot;urn:dslforum-org:service:Hosts:1&quot;</span><span class="p">,</span> <span class="s">&quot;GetGenericHostEntry&quot;</span><span class="p">,</span> <span class="n">NewIndex</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">{&#39;NewActive&#39;: &#39;0&#39;, &#39;NewIPAddress&#39;: &#39;192.168.0.23&#39;, &#39;NewMACAddress&#39;: &#39;9C:20:7B:E7:FF:5F&#39;, &#39;NewInterfaceType&#39;:</span>
<span class="go">    &#39;Ethernet&#39;, &#39;NewHostName&#39;: &#39;Apple-TV&#39;, &#39;NewAddressSource&#39;: &#39;DHCP&#39;, &#39;NewLeaseTimeRemaining&#39;: &#39;0&#39;}</span>
</pre></div>
</div>
<p>or even easier, execute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">System</span><span class="p">(</span><span class="s">&quot;fritz.box&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">setupTR64Device</span><span class="p">(</span><span class="s">&quot;fritz.box&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">getSystemInfo</span><span class="p">()</span><span class="o">.</span><span class="n">manufactureName</span><span class="p">)</span>
<span class="go">&quot;AVM&quot;</span>
</pre></div>
</div>
<p>Also please see the <a class="reference external" href="https://github.com/bpannier/simpletr64/tree/master/simpletr64/tools">tools</a> which have been
provided with this library, these demonstrates the full functionality.</p>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#distribute-pip">Distribute &amp; Pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#get-the-code">Get the Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="discover.html">Discover UPnP Devices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="discover.html#protocol">Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="discover.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="devices.html">Device Interaction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="devices.html#protocol">Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices.html#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices.html#proxies">Proxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tr64.html">TR 64 Protocol Actions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tr64.html#supported-devices">Supported devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="tr64.html#not-out-of-the-box-supported-devices">Not out of the box supported devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="tr64.html#system-classes">System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tr64.html#lan-classes">LAN Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tr64.html#wan-classes">WAN Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tr64.html#wifi-classes">Wifi Classes</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span>Index</span></a></li>
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Simple TR64 UPnP 1.0.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Benjamin Pannier.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  </body>
</html>